////////////////////////////////////////////////////////////
//
// SFML-RPG - A top-down RPG demo
// 
// Author - Alex Capsambelis
//
////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////

#include "Player.hpp"

#include <vector>

#include <SFML\Graphics.hpp>

namespace rpg {

	////////////////////////////////////////////////////////////
	Player::Player()
	{
	}

	////////////////////////////////////////////////////////////
	Player::Player(
		std::string name, int ID, sf::Vector2f position,
		sf::IntRect texture_rect,
		float health, float speed
	) :
		Character(name, ID, position,
			texture_rect,
			health, speed)
	{
	}

	////////////////////////////////////////////////////////////
	Player::Player(const Player& copy, int id, sf::Vector2f position) :
		Character(copy, id, position)
	{
	}

	////////////////////////////////////////////////////////////
	Player::~Player()
	{
	}

	////////////////////////////////////////////////////////////
	std::string Player::get_writable()
	{
		return Character::get_writeable();
	}

	////////////////////////////////////////////////////////////
	bool Player::collide(WorldObject& other)
	{
		bool coll = update_collision(other);
		if (coll && get_state() == 2)
		{
			if (get_health() > 0)
			{
				this->damage(10.0f);
				return true;
			}
		}
		return false;
	}

} // namespace rpg
